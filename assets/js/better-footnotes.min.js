!function($){"use strict";var betterFootnotes={options:{scrollGap:0,scrollSpeed:0},init:function(){"undefined"!=typeof betterFootnotesOptions&&(betterFootnotes.options=Object.assign(betterFootnotes.options,betterFootnotesOptions)),betterFootnotes.populateFootnotesLists(),$(document).on("click",".bfn-footnoteRef, .bfn-footnoteHook",function(e){e.preventDefault();var target=$($(this).attr("href")+":first");target.length&&betterFootnotes.scrollTo(target,betterFootnotes.options.scrollSpeed)})},populateFootnotesLists:function(context){$(".bfn-footnotes",context).each(function(){betterFootnotes.populateFootnotesList(this)})},populateFootnotesList:function($footenotes){if(!($footenotes=$($footenotes)).data("is-populated")){var footnotePostId=$footenotes.attr("data-post-id"),containerSelector=$footenotes.attr("data-container");containerSelector=containerSelector||"#post-"+footnotePostId;var $footenotesList=$(".bfn-footnotesList",$footenotes);$(".bfn-footnoteHook",containerSelector).each(function(index){var footnoteNum=index+1,$footnoteHook=$(this);betterFootnotes.populateFootnoteHook($footnoteHook,footnotePostId,footnoteNum);var $footnoteItem=betterFootnotes.generateFootnoteItem($footnoteHook);$footenotesList.append($footnoteItem)}),$footenotesList.is(":empty")&&$footenotes.hide()}},populateFootnoteHook:function($footnoteHook,footnotePostId,footnoteNum){var footnoteId=betterFootnotes.generateFootnoteId(footnotePostId,footnoteNum),footnoteHookId=betterFootnotes.generateFootnoteHookId(footnotePostId,footnoteNum);return $footnoteHook.attr("id",footnoteHookId),$footnoteHook.attr("href","#"+footnoteId),$footnoteHook.attr("data-footnote-id",footnoteId),"numeric"===$footnoteHook.attr("data-footnote-type")&&$footnoteHook.text(footnoteNum),$footnoteHook},generateFootnoteHookId:function(postId,footnoteNum){return"article-footnote-hook-"+postId+"-"+footnoteNum},generateFootnoteId:function(postId,footnoteNum){return"article-footnote-"+postId+"-"+footnoteNum},generateFootnoteRef:function($footnoteHook){var $footnoteRef=$("<a></a>");return $footnoteRef.text($footnoteHook.text()),$footnoteRef.addClass("bfn-footnoteRef"),$footnoteRef.attr("href","#"+$footnoteHook.attr("id")),$footnoteRef.attr("id",$footnoteHook.attr("data-footnote-id")),$footnoteRef},generateFootnoteItem:function($footnoteHook){var $footnoteItem=$("<li></li>");return $footnoteItem.addClass("bfn-footnoteItem"),$footnoteItem.append(betterFootnotes.generateFootnoteRef($footnoteHook)),$footnoteItem.append($footnoteHook.attr("data-footnote-content")),$footnoteItem},scrollTo:function(target,time){betterFootnotes.isDefined(time)&&!1!==time||(time=800);var targetY=target.offset().top-betterFootnotes.options.scrollGap;!1!==time||0!==time?$("html, body").animate({scrollTop:targetY},time,"easeOutCubic").promise().done(function(){}):$("html, body").scrollTop(targetY)},isDefined:function(object){return void 0!==object&&!1!==object}};jQuery.extend(jQuery.easing,{easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b}}),$(document).ready(betterFootnotes.init)}(jQuery);